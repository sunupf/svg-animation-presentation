<template lang="pug">
//- Slide Pertama
div
  slide(enterPrev='slideInLeft' enterNext='slideInRight'
    leavePrev='slideOutRight' leaveNext='slideOutLeft'
    :steps='4')
    FullWidth
      div.content(v-if='step >= 2')
        h2(:class="{ 'animated': step >= 3, 'slideInUp': step >= 3 }") IS IT ENOUGH ?
        div.icon-list
          div.group-icon
            //- div.icon(v-if='step >= 3')
            //-   svg(width="76" height="76" viewBox="0 0 76 76" fill="none" xmlns="http://www.w3.org/2000/svg")
            //-     circle.animated.rotate(cx="38" cy="38" r="22.5" stroke="#EB7527" stroke-width="3")
            //-     path.animated.pulse(d="M38 0C38.7236 0 39.3102 0.586611 39.3102 1.31023V6.4468C39.3102 7.17042 38.7236 7.75703 38 7.75703C37.2764 7.75703 36.6898 7.17042 36.6898 6.4468V1.31023C36.6898 0.586611 37.2764 0 38 0Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M0 38C0 37.2764 0.586611 36.6898 1.31023 36.6898H6.4468C7.17042 36.6898 7.75703 37.2764 7.75703 38C7.75703 38.7236 7.17042 39.3102 6.4468 39.3102H1.31023C0.586611 39.3102 0 38.7236 0 38Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M68.243 38C68.243 37.2764 68.8296 36.6898 69.5532 36.6898H74.6898C75.4134 36.6898 76 37.2764 76 38C76 38.7236 75.4134 39.3102 74.6898 39.3102H69.5532C68.8296 39.3102 68.243 38.7236 68.243 38Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M38 68.243C38.7236 68.243 39.3102 68.8296 39.3102 69.5532V74.6898C39.3102 75.4134 38.7236 76 38 76C37.2764 76 36.6898 75.4134 36.6898 74.6898V69.5532C36.6898 68.8296 37.2764 68.243 38 68.243Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M57.0001 5.09109C57.6267 5.4529 57.8414 6.25423 57.4796 6.8809L54.9113 11.3293C54.5495 11.956 53.7482 12.1707 53.1215 11.8089C52.4949 11.4471 52.2801 10.6457 52.642 10.0191L55.2102 5.57067C55.5721 4.94399 56.3734 4.72928 57.0001 5.09109Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M5.09109 19.0001C5.4529 18.3734 6.25422 18.1587 6.8809 18.5205L11.3293 21.0888C11.956 21.4506 12.1707 22.2519 11.8089 22.8786C11.4471 23.5052 10.6457 23.72 10.0191 23.3581L5.57066 20.7899C4.94399 20.4281 4.72928 19.6267 5.09109 19.0001Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M64.1912 53.1215C64.553 52.4949 65.3544 52.2802 65.981 52.642L70.4294 55.2102C71.0561 55.5721 71.2708 56.3734 70.909 57.0001C70.5472 57.6267 69.7459 57.8414 69.1192 57.4796L64.6708 54.9114C64.0441 54.5495 63.8294 53.7482 64.1912 53.1215Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M22.8786 64.1912C23.5052 64.553 23.72 65.3544 23.3581 65.981L20.7899 70.4294C20.4281 71.0561 19.6267 71.2708 19.0001 70.909C18.3734 70.5472 18.1587 69.7459 18.5205 69.1192L21.0888 64.6708C21.4506 64.0441 22.2519 63.8294 22.8786 64.1912Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M70.4294 20.7899C71.0561 20.4281 71.2708 19.6267 70.909 19.0001C70.5472 18.3734 69.7459 18.1587 69.1192 18.5205L64.6708 21.0888C64.0441 21.4506 63.8294 22.2519 64.1912 22.8786C64.553 23.5052 65.3544 23.72 65.981 23.3581L70.4294 20.7899Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M20.7899 5.57067C20.428 4.94399 19.6267 4.72928 19 5.09109C18.3734 5.4529 18.1587 6.25422 18.5205 6.8809L21.0888 11.3293C21.4506 11.956 22.2519 12.1707 22.8786 11.8089C23.5052 11.4471 23.72 10.6457 23.3581 10.0191L20.7899 5.57067Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M54.9113 64.6708C54.5495 64.0441 53.7482 63.8294 53.1215 64.1912C52.4949 64.553 52.2801 65.3544 52.642 65.981L55.2102 70.4294C55.572 71.0561 56.3734 71.2708 57 70.909C57.6267 70.5472 57.8414 69.7459 57.4796 69.1192L54.9113 64.6708Z" fill="#FFCC00")
            //-     path.animated.pulse(d="M11.3293 54.9113C11.956 54.5495 12.1707 53.7482 11.8089 53.1215C11.4471 52.4949 10.6457 52.2801 10.0191 52.642L5.57066 55.2102C4.94398 55.5721 4.72927 56.3734 5.09108 57.0001C5.45289 57.6267 6.25421 57.8414 6.88089 57.4796L11.3293 54.9113Z" fill="#FFCC00")
            div.icon.star(v-if='step >= 3')
              svg#svg-morph.animated.rotateIn(width="128" height="128" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg")
                path(id="star-shape" d="M56.0636 50.9089L64 36.1783L71.9364 50.9089C72.277 51.5412 72.8847 51.9919 73.5973 52.127L89.9249 55.222L78.5015 67.4527C78.0104 67.9785 77.7823 68.6953 77.8732 69.4047L80.01 86.0742L65.0326 78.8775C64.3796 78.5637 63.6203 78.5637 62.9673 78.8775L47.99 86.0742L50.1268 69.4047C50.2178 68.6953 49.9896 67.9785 49.4985 67.4527L38.0751 55.222L54.4027 52.127C55.1153 51.9919 55.723 51.5412 56.0636 50.9089ZM90.6588 54.4362L90.658 54.4371L90.6588 54.4362Z" stroke="#FFCC00" stroke-width="3")
                path(d="M21.3673 72.6624C21.2024 71.8506 21.7268 71.0588 22.5386 70.8938L28.3014 69.7228C29.1132 69.5579 29.9051 70.0823 30.07 70.8941C30.235 71.706 29.7106 72.4978 28.8987 72.6628L23.136 73.8337C22.3241 73.9987 21.5323 73.4743 21.3673 72.6624Z" fill="#FF7F2A")
                path(d="M97.9298 57.1056C97.7648 56.2937 98.2892 55.5019 99.1011 55.3369L104.864 54.166C105.676 54.001 106.468 54.5254 106.632 55.3373C106.797 56.1491 106.273 56.9409 105.461 57.1059L99.6984 58.2769C98.8866 58.4418 98.0947 57.9174 97.9298 57.1056Z" fill="#FF7F2A")
                path(d="M77.8142 22.7477C78.5998 23.0108 79.0233 23.8608 78.7603 24.6464L76.893 30.2226C76.6299 31.0081 75.7799 31.4317 74.9943 31.1686C74.2088 30.9056 73.7852 30.0555 74.0482 29.2699L75.9156 23.6938C76.1786 22.9082 77.0287 22.4847 77.8142 22.7477Z" fill="#FF7F2A")
                path(d="M53.0057 96.8312C53.7912 97.0942 54.2148 97.9443 53.9517 98.7299L52.0844 104.306C51.8213 105.092 50.9713 105.515 50.1857 105.252C49.4002 104.989 48.9766 104.139 49.2397 103.353L51.107 97.7772C51.37 96.9917 52.2201 96.5681 53.0057 96.8312Z" fill="#FF7F2A")
                path(d="M37.299 31.5403C36.7502 30.9197 35.8023 30.8615 35.1817 31.4103C34.5611 31.9591 34.5029 32.907 35.0516 33.5276L38.9471 37.9329C39.4959 38.5535 40.4438 38.6117 41.0644 38.0629C41.685 37.5141 41.7432 36.5662 41.1944 35.9456L37.299 31.5403Z" fill="#FF7F2A")
                path(d="M89.0529 90.0669C88.5041 89.4463 87.5561 89.3881 86.9355 89.9369C86.3149 90.4857 86.2567 91.4336 86.8055 92.0542L90.7009 96.4595C91.2497 97.0801 92.1977 97.1383 92.8183 96.5895C93.4389 96.0407 93.4971 95.0928 92.9483 94.4722L89.0529 90.0669Z" fill="#FF7F2A")
</template>

<script>
import { Slideshow } from 'eagle.js';
import FullWidth from '../FullWidth.vue';
import anime from 'animejs'

export default {
  name: 'AnimationMorph',
  components: {
    FullWidth,
  },
  mixins: [Slideshow],
  watch: {
  	'step': function(newVal, oldVal) {
      if (newVal === 4) {
        anime({
          targets: '#star-shape',
          d: 'M87.5 64C87.5 76.9787 76.9787 87.5 64 87.5C52.1789 87.5 42.3963 78.7718 40.7454 67.4084C51.0172 75.0821 61.768 73.434 67.9581 67.0458C71.2914 63.6058 73.222 58.8458 72.9627 53.653C72.7517 49.4262 71.0956 44.9893 67.6866 40.7875C78.9139 42.5565 87.5 52.2755 87.5 64Z',
        });
      }
      // if (newVal === 3) {
      //   anime({
      //     targets: '#star-shape',
      //     d: 'M56.0636 50.9089L64 36.1783L71.9364 50.9089C72.277 51.5412 72.8847 51.9919 73.5973 52.127L89.9249 55.222L78.5015 67.4527C78.0104 67.9785 77.7823 68.6953 77.8732 69.4047L80.01 86.0742L65.0326 78.8775C64.3796 78.5637 63.6203 78.5637 62.9673 78.8775L47.99 86.0742L50.1268 69.4047C50.2178 68.6953 49.9896 67.9785 49.4985 67.4527L38.0751 55.222L54.4027 52.127C55.1153 51.9919 55.723 51.5412 56.0636 50.9089ZM90.6588 54.4362L90.658 54.4371L90.6588 54.4362Z',
      //   });
      // }
    }
  },
};
</script>
<style lang="stylus" scoped>
.full-width
  .content
    flex-direction column
  .group-icon
    height 256
    display flex
    align-items center
    width 632px
    justify-content space-evenly
    margin-top 32px
    overflow hidden
  .icon
    animation-duration 0.5s
  .star
    svg
      width 256px
      height 256px
  .slideInUp
    animation-duration 0.32s
</style>
